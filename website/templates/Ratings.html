{% extends 'BloodFighterBase.html' %}

{% block title %}
Rate Donor • Blood Donation
{% endblock %}

{% block Ratings %}

        <li>
          <a href="Ratings" title="Rate Donors" style="box-shadow: 0 4px 8px rgba(112, 130, 180, 0.2); background-color: #87baed;">
            <i class="fas fa-star"></i>
            <span class="nav-item">Rate Donors</span>
          </a>
        </li>

{% endblock %}


      {% block flash %}

      {% endblock %}


{% block section %}



<div class="course-box">
  <div class="main-skills">
    
    <!-- Donor List card -->
    <div class="card">
      <h3>Donor List</h3>
      <ul style="list-style:none; padding-left:0; margin:8px 0 0;">
        {% if donors %}
          {% for d in donors %}
            <li style="padding:6px 0; border-bottom:1px solid #eef0f3;">
              <strong>{{ d.name }}</strong>
              {% if d.blood_group %}<small style="color:var(--muted);"> • {{ d.blood_group }}</small>{% endif %}
            </li>
          {% endfor %}
        {% else %}
          <li>No donors yet.</li>
        {% endif %}
      </ul>
    </div>

    <!-- Rate action card -->
<div class="card">
  <h3>Rate a Donor</h3>
  <p style="margin:8px 0 12px; color:var(--muted);">Select a donor and continue to the rating page.</p>

  <form action="/ratings" method="get" style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
    <select name="donor_id" required aria-label="Choose donor to rate"
            style="padding:8px 10px; border:1px solid #e5e7eb; border-radius:8px; min-width:220px;">
      <option value="" disabled selected>Select a donor…</option>
      {% for d in donors %}
        <option value="{{ d.id }}">
          {{ d.name }}{% if d.blood_group %} — {{ d.blood_group }}{% endif %}
        </option>
      {% endfor %}
    </select>

    <button type="submit" class="button-30">Rate</button>
  </form>

  {% if not donors %}
    <small style="color:var(--muted); display:block; margin-top:6px;">No donors available right now.</small>
  {% endif %}
</div>


  </div>
</div>



{% endblock %}